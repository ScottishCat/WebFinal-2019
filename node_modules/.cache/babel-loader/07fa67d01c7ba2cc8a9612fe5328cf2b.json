{"ast":null,"code":"import _slicedToArray from\"/Users/siriuskl/Documents/Front-End/search/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useParams}from'react-router';import Container from'@material-ui/core/Container';import{makeStyles}from'@material-ui/core/styles';import BusinessTitle from'./BusinessTitle';import Button from'@material-ui/core/Button';import Ratings from'../DetailPage/Rating';import Gallery from'../MainPage/Gallery';import Link from'@material-ui/core/Link';import Axios from'axios';var axios=Axios.create();var useStyle=makeStyles(function(theme){return{container:{height:'90vh',overflow:'scroll',flexDirection:'column',maxWidth:'700px'},h3:{color:'#5c5757'},review:{width:'100%',height:'auto',backgroundColor:'#f4f4f4',boxShadow:'5px 5px 10px -5px #aaaaaa',paddingBottom:'5px',marginTop:'20px'},reviewTitle:{fontWeight:'bold',fontSize:'23px',paddingTop:'10px',margin:'5px'}};});var ReviewList=function ReviewList(props){var classes=useStyle();var business=JSON.parse(localStorage.getItem(\"business\"));var _useParams=useParams(),businessId=_useParams.businessId,userId=_useParams.userId;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),reviews=_useState2[0],setReviews=_useState2[1];useEffect(function(){axios.get(\"https://pyrite-peanut.glitch.me/api/review/business/\".concat(props.businessId)).then(function(res){setReviews(res.data);console.log(reviews);});},[]);var hours=business.hours;var onClickHandler=function onClickHandler(e){if(userId!=='undefined'){window.location.href=\"/review/\".concat(businessId,\"/\").concat(userId);}else{window.location.href='/login';}};return React.createElement(Container,{className:classes.container},React.createElement(BusinessTitle,{name:business.name,reviews:\"\".concat(business.review_count,\" reviews\"),address:business.address,city:business.city,postal:business.postal_code,stars:business.stars,hours:hours}),React.createElement(\"br\",null),React.createElement(\"h2\",{className:classes.h3},\"Recommended Reviews\"),React.createElement(Button,{variant:\"contained\",color:\"secondary\",onClick:onClickHandler},\"Write a review\"),React.createElement(\"br\",null),reviews.map(function(r){return React.createElement(\"div\",{className:classes.review},React.createElement(Container,null,React.createElement(\"h3\",{className:classes.reviewTitle},r.name),React.createElement(Ratings,{star:r.stars,size:\"small\"}),React.createElement(\"small\",null,\"posted on \".concat(r.date)),React.createElement(\"p\",null,r.text)));}));};export default ReviewList;","map":{"version":3,"sources":["/Users/siriuskl/Documents/Front-End/search/src/Components/DetailPage/ReviewList.js"],"names":["React","useState","useEffect","useParams","Container","makeStyles","BusinessTitle","Button","Ratings","Gallery","Link","Axios","axios","create","useStyle","theme","container","height","overflow","flexDirection","maxWidth","h3","color","review","width","backgroundColor","boxShadow","paddingBottom","marginTop","reviewTitle","fontWeight","fontSize","paddingTop","margin","ReviewList","props","classes","business","JSON","parse","localStorage","getItem","businessId","userId","reviews","setReviews","get","then","res","data","console","log","hours","onClickHandler","e","window","location","href","name","review_count","address","city","postal_code","stars","map","r","date","text"],"mappings":"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","sourcesContent":["import React, { useState, useEffect} from 'react';\nimport {useParams} from 'react-router';\nimport Container from '@material-ui/core/Container';\nimport { makeStyles } from '@material-ui/core/styles';\nimport BusinessTitle from './BusinessTitle';\nimport Button from '@material-ui/core/Button';\nimport Ratings from '../DetailPage/Rating';\nimport Gallery from '../MainPage/Gallery';\nimport Link from '@material-ui/core/Link';\nimport Axios from 'axios';\n\nconst axios = Axios.create()\n\nconst useStyle = makeStyles(theme =>({\n    container:{\n        height: '90vh',\n        overflow: 'scroll',\n        flexDirection:'column',\n        maxWidth: '700px',\n    },\n    h3:{\n        color: '#5c5757'\n    },\n    review:{\n        width: '100%',\n        height: 'auto',\n        backgroundColor:'#f4f4f4',\n        boxShadow: '5px 5px 10px -5px #aaaaaa',\n        paddingBottom:'5px',\n        marginTop:'20px'\n    },\n    reviewTitle:{\n        fontWeight:'bold',\n        fontSize:'23px',\n        paddingTop: '10px',\n        margin: '5px'\n    },\n}))\n\nconst ReviewList = (props) => {\n    const classes = useStyle()\n    let business = JSON.parse(localStorage.getItem(\"business\"))\n    const {businessId, userId} = useParams()\n    const [reviews, setReviews] = useState([])\n\n    useEffect(()=>{\n        axios.get(`https://pyrite-peanut.glitch.me/api/review/business/${props.businessId}`)\n            .then((res => {\n                setReviews(res.data)\n                console.log(reviews)\n            }))\n    },[])\n\n    const hours = business.hours\n\n    const onClickHandler = (e) => {\n        if (userId !== 'undefined'){\n            window.location.href=`/review/${businessId}/${userId}`\n        }\n        else{\n            window.location.href='/login'\n        }\n    }\n\n    return (\n        <Container className={classes.container}>\n            <BusinessTitle name={business.name}\n            reviews={`${business.review_count} reviews`}\n            address={business.address}\n            city={business.city}\n            postal={business.postal_code}\n            stars={business.stars}\n            hours={hours}/>\n            <br/>\n            <h2 className={classes.h3}>Recommended Reviews</h2>\n            <Button variant='contained' color='secondary' onClick={onClickHandler}>Write a review</Button>\n            <br/>\n            {\n                reviews.map(r => (\n                    <div className={classes.review}>\n                        <Container>\n                            <h3 className={classes.reviewTitle}>{r.name}</h3>\n                            <Ratings star={r.stars} size='small'/>\n                            <small>{`posted on ${r.date}`}</small>\n                            <p>{r.text}</p>\n                        </Container>\n                    </div>\n                ))\n            }\n        </Container>\n    )\n}\n\nexport default ReviewList;"]},"metadata":{},"sourceType":"module"}