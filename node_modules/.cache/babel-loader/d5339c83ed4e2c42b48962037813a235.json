{"ast":null,"code":"import React,{useRef}from'react';import Avatar from'@material-ui/core/Avatar';import AccountCircle from'@material-ui/icons/AccountCircle';import Button from'@material-ui/core/Button';import TextField from'@material-ui/core/TextField';import Link from'@material-ui/core/Link';import Grid from'@material-ui/core/Grid';import Typography from'@material-ui/core/Typography';import{makeStyles}from'@material-ui/core/styles';import Container from'@material-ui/core/Container';import Axios from'axios';var axios=Axios.create();var useStyles=makeStyles(function(theme){return{paper:{marginTop:theme.spacing(8),display:'flex',flexDirection:'column',alignItems:'center',padding:theme.spacing(2),border:'solid #cccccc 1px'},avatar:{margin:theme.spacing(1),backgroundColor:'#fa877f'},form:{width:'100%',marginTop:theme.spacing(3),textAlign:'center'},submit:{margin:theme.spacing(3,0,2)},foot:{textAlign:'center'},link:{fontSize:'15px'}};});var UserLoginPage=function UserLoginPage(){var classes=useStyles();var emailRef=useRef(null);var passwordRef=useRef(null);var submitHandler=function submitHandler(e){e.preventDefault();axios.post('https://midi-fiction.glitch.me/api/login',{email:emailRef.current.value,password:passwordRef.current.value}).then(function(res){if(res.data.ret_code==0){window.location.href=\"#/main/\".concat(res.data.id);console.log(res.headers);}else if(res.data.ret_code==2){alert('Invalid Email!');}else{alert('Wrong Password!');}});// axios.get('http://10.215.222.72:4000/api/hello')\n// .then(res => {console.log(res)})\n};return React.createElement(Container,{component:\"main\",maxWidth:\"xs\"},React.createElement(\"div\",{className:classes.paper},React.createElement(Avatar,{className:classes.avatar},React.createElement(AccountCircle,null)),React.createElement(Typography,{component:\"h1\",variant:\"h5\"},\"Sign in\"),React.createElement(\"form\",{className:classes.form,noValidate:true},React.createElement(Grid,{container:true,spacing:2},React.createElement(Grid,{item:true,xs:12},React.createElement(TextField,{variant:\"outlined\",required:true,fullWidth:true,inputRef:emailRef,type:\"email\",label:\"Email Address\",name:\"email\",autoComplete:\"email\"})),React.createElement(Grid,{item:true,xs:12},React.createElement(TextField,{variant:\"outlined\",required:true,fullWidth:true,inputRef:passwordRef,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",autoComplete:\"current-password\"}))),React.createElement(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit,onClick:submitHandler},\"Sign in\"),React.createElement(\"hr\",null),React.createElement(Grid,{container:true,justify:\"center\"},React.createElement(Grid,{item:true,className:classes.foot},React.createElement(Link,{href:\"#/signup\",variant:\"body2\",className:classes.link},\"Don't have an account? Sign up\"))))));};export default UserLoginPage;","map":{"version":3,"sources":["/Users/siriuskl/Documents/Front-End/search/WebFinal-2019/src/Pages/UserLoginPage.js"],"names":["React","useRef","Avatar","AccountCircle","Button","TextField","Link","Grid","Typography","makeStyles","Container","Axios","axios","create","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","padding","border","avatar","margin","backgroundColor","form","width","textAlign","submit","foot","link","fontSize","UserLoginPage","classes","emailRef","passwordRef","submitHandler","e","preventDefault","post","email","current","value","password","then","res","data","ret_code","window","location","href","id","console","log","headers","alert"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAeC,MAAf,KAA4B,OAA5B,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,aAAP,KAA0B,kCAA1B,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,KAAK,CAAGD,KAAK,CAACE,MAAN,EAAd,CAEA,GAAMC,CAAAA,SAAS,CAAGL,UAAU,CAAC,SAAAM,KAAK,QAAK,CACnCC,KAAK,CAAE,CACHC,SAAS,CAAEF,KAAK,CAACG,OAAN,CAAc,CAAd,CADR,CAEHC,OAAO,CAAE,MAFN,CAGHC,aAAa,CAAE,QAHZ,CAIHC,UAAU,CAAE,QAJT,CAKHC,OAAO,CAAEP,KAAK,CAACG,OAAN,CAAc,CAAd,CALN,CAMHK,MAAM,CAAE,mBANL,CAD4B,CASnCC,MAAM,CAAE,CACJC,MAAM,CAAEV,KAAK,CAACG,OAAN,CAAc,CAAd,CADJ,CAEJQ,eAAe,CAAE,SAFb,CAT2B,CAanCC,IAAI,CAAE,CACFC,KAAK,CAAE,MADL,CAEFX,SAAS,CAAEF,KAAK,CAACG,OAAN,CAAc,CAAd,CAFT,CAGFW,SAAS,CAAE,QAHT,CAb6B,CAkBnCC,MAAM,CAAE,CACJL,MAAM,CAAEV,KAAK,CAACG,OAAN,CAAc,CAAd,CAAiB,CAAjB,CAAoB,CAApB,CADJ,CAlB2B,CAqBnCa,IAAI,CAAE,CACFF,SAAS,CAAE,QADT,CArB6B,CAwBnCG,IAAI,CAAE,CACFC,QAAQ,CAAE,MADR,CAxB6B,CAAL,EAAN,CAA5B,CA6BA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CACxB,GAAMC,CAAAA,OAAO,CAAGrB,SAAS,EAAzB,CAEA,GAAMsB,CAAAA,QAAQ,CAAGnC,MAAM,CAAC,IAAD,CAAvB,CACA,GAAMoC,CAAAA,WAAW,CAAGpC,MAAM,CAAC,IAAD,CAA1B,CAEA,GAAMqC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,CAAD,CAAO,CACzBA,CAAC,CAACC,cAAF,GACA5B,KAAK,CAAC6B,IAAN,CAAW,0CAAX,CAAsD,CAClDC,KAAK,CAAEN,QAAQ,CAACO,OAAT,CAAiBC,KAD0B,CAElDC,QAAQ,CAAER,WAAW,CAACM,OAAZ,CAAoBC,KAFoB,CAAtD,EAKCE,IALD,CAKM,SAAAC,GAAG,CAAE,CACP,GAAIA,GAAG,CAACC,IAAJ,CAASC,QAAT,EAAqB,CAAzB,CAA2B,CACvBC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,kBAA+BL,GAAG,CAACC,IAAJ,CAASK,EAAxC,EACAC,OAAO,CAACC,GAAR,CAAYR,GAAG,CAACS,OAAhB,EACH,CAHD,IAIK,IAAIT,GAAG,CAACC,IAAJ,CAASC,QAAT,EAAqB,CAAzB,CAA2B,CAC5BQ,KAAK,CAAC,gBAAD,CAAL,CACH,CAFI,IAGD,CACAA,KAAK,CAAC,iBAAD,CAAL,CACH,CACJ,CAhBD,EAiBA;AACA;AACH,CArBD,CAsBA,MACI,qBAAC,SAAD,EAAW,SAAS,CAAC,MAArB,CAA4B,QAAQ,CAAC,IAArC,EACI,2BAAK,SAAS,CAAEtB,OAAO,CAACnB,KAAxB,EACI,oBAAC,MAAD,EAAQ,SAAS,CAAEmB,OAAO,CAACX,MAA3B,EACI,oBAAC,aAAD,MADJ,CADJ,CAII,oBAAC,UAAD,EAAY,SAAS,CAAC,IAAtB,CAA2B,OAAO,CAAC,IAAnC,YAJJ,CAOI,4BAAM,SAAS,CAAEW,OAAO,CAACR,IAAzB,CAA+B,UAAU,KAAzC,EACI,oBAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAE,CAAzB,EACI,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,EACI,oBAAC,SAAD,EACI,OAAO,CAAC,UADZ,CAEI,QAAQ,KAFZ,CAGI,SAAS,KAHb,CAII,QAAQ,CAAES,QAJd,CAKI,IAAI,CAAC,OALT,CAMI,KAAK,CAAC,eANV,CAOI,IAAI,CAAC,OAPT,CAQI,YAAY,CAAC,OARjB,EADJ,CADJ,CAaI,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,EAAf,EACI,oBAAC,SAAD,EACI,OAAO,CAAC,UADZ,CAEI,QAAQ,KAFZ,CAGI,SAAS,KAHb,CAII,QAAQ,CAAEC,WAJd,CAKI,IAAI,CAAC,UALT,CAMI,KAAK,CAAC,UANV,CAOI,IAAI,CAAC,UAPT,CAQI,EAAE,CAAC,UARP,CASI,YAAY,CAAC,kBATjB,EADJ,CAbJ,CADJ,CA4BI,oBAAC,MAAD,EACI,IAAI,CAAC,QADT,CAEI,SAAS,KAFb,CAGI,OAAO,CAAC,WAHZ,CAII,KAAK,CAAC,SAJV,CAKI,SAAS,CAAEF,OAAO,CAACL,MALvB,CAMI,OAAO,CAAEQ,aANb,YA5BJ,CAsCI,8BAtCJ,CAuCI,oBAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAC,QAAxB,EACI,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,SAAS,CAAEH,OAAO,CAACJ,IAA9B,EACI,oBAAC,IAAD,EAAM,IAAI,CAAC,UAAX,CAAsB,OAAO,CAAC,OAA9B,CAAsC,SAAS,CAAEI,OAAO,CAACH,IAAzD,mCADJ,CADJ,CAvCJ,CAPJ,CADJ,CADJ,CA2DH,CAvFD,CAyFA,cAAeE,CAAAA,aAAf","sourcesContent":["import React, {useRef} from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Axios from 'axios';\n\nconst axios = Axios.create();\n\nconst useStyles = makeStyles(theme => ({\n    paper: {\n        marginTop: theme.spacing(8),\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        padding: theme.spacing(2),\n        border: 'solid #cccccc 1px',\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: '#fa877f',\n    },\n    form: {\n        width: '100%',\n        marginTop: theme.spacing(3),\n        textAlign: 'center'\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n    foot: {\n        textAlign: 'center'\n    },\n    link: {\n        fontSize: '15px'\n    }\n}));\n\nconst UserLoginPage = () => {\n    const classes = useStyles();\n\n    const emailRef = useRef(null);\n    const passwordRef = useRef(null);\n\n    const submitHandler = (e) => {\n        e.preventDefault()\n        axios.post('https://midi-fiction.glitch.me/api/login',{\n            email: emailRef.current.value, \n            password: passwordRef.current.value\n        },\n        )\n        .then(res=>{\n            if (res.data.ret_code == 0){\n                window.location.href=`#/main/${res.data.id}`\n                console.log(res.headers)\n            }\n            else if (res.data.ret_code == 2){\n                alert('Invalid Email!')\n            }\n            else{\n                alert('Wrong Password!')\n            }\n        });\n        // axios.get('http://10.215.222.72:4000/api/hello')\n        // .then(res => {console.log(res)})\n    } \n    return (\n        <Container component=\"main\" maxWidth=\"xs\">\n            <div className={classes.paper}>\n                <Avatar className={classes.avatar}>\n                    <AccountCircle />\n                </Avatar>\n                <Typography component=\"h1\" variant=\"h5\">\n                    Sign in\n                </Typography>\n                <form className={classes.form} noValidate>\n                    <Grid container spacing={2}>\n                        <Grid item xs={12}>\n                            <TextField\n                                variant=\"outlined\"\n                                required\n                                fullWidth\n                                inputRef={emailRef}\n                                type=\"email\"\n                                label=\"Email Address\"\n                                name=\"email\"\n                                autoComplete=\"email\"\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                variant=\"outlined\"\n                                required\n                                fullWidth\n                                inputRef={passwordRef}\n                                name=\"password\"\n                                label=\"Password\"\n                                type=\"password\"\n                                id=\"password\"\n                                autoComplete=\"current-password\"\n                            />\n                        </Grid>\n                    </Grid>\n                    <Button\n                        type=\"submit\"\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.submit}\n                        onClick={submitHandler}\n                    >\n                        Sign in\n                    </Button>\n                    <hr/>\n                    <Grid container justify=\"center\">\n                        <Grid item className={classes.foot}>\n                            <Link href='#/signup' variant=\"body2\" className={classes.link}>\n                                Don't have an account? Sign up\n                            </Link>\n                        </Grid>\n                    </Grid>\n                </form>\n            </div>\n        </Container>\n    );\n}\n\nexport default UserLoginPage;"]},"metadata":{},"sourceType":"module"}