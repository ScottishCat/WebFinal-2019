{"ast":null,"code":"import _slicedToArray from\"/Users/siriuskl/Documents/Front-End/search/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/siriuskl/Documents/Front-End/search/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{useEffect,useState,useRef}from'react';import{useParams}from'react-router';import TopBar from'../Components/MainPage/TopBar';import{makeStyles}from'@material-ui/core/styles';import Container from'@material-ui/core/Container';import Ratings from'../Components/DetailPage/Rating';import Button from'@material-ui/core/Button';import Axios from'axios';import{borderRight}from'@material-ui/system';var axios=Axios.create();var imgUrl=require('../static/icons/boss.png');var useStyle=makeStyles(function(theme){var _userTitle;return{footer:{height:'8vh',width:'100vw',textAlign:'center',alignItems:'center',backgroundColor:'#fa877f',color:'#FFFFFF',fontSize:'2vh',display:'fixed',bottom:'0px'},solid:{display:'block',width:'100%',height:'64px',backgroundColor:'#FFFFFF'},container:{height:'90vh',overflow:'scroll',flexDirection:'column',maxWidth:'700px'},userTitle:(_userTitle={display:'flex',width:'100%',height:'15vh'},_defineProperty(_userTitle,theme.breakpoints.up('sm'),{height:'18vh'}),_defineProperty(_userTitle,\"color\",'#5c5757'),_defineProperty(_userTitle,\"backgroundColor\",'#f4f4f4'),_defineProperty(_userTitle,\"flexDirection\",'row'),_defineProperty(_userTitle,\"boxShadow\",'5px 5px 10px -5px #aaaaaa'),_userTitle),userInfo:{paddingLeft:'5%',paddingTop:'2%',margin:'0px'},partition1:{display:'flex',flexDirection:'column',width:'70%'},partition2:{display:'flex',flexDirection:'column',width:'30%',borderRight:'solid 1px #CCCCCC'},img:{margin:\"0px\"},review:{width:'100%',height:'auto',backgroundColor:'#f4f4f4',boxShadow:'5px 5px 10px -5px #aaaaaa',paddingBottom:'5px',marginTop:'20px'},reviewTitle:{fontWeight:'bold',fontSize:'23px',paddingTop:'10px',margin:'5px'}};});var UserProfilePage=function UserProfilePage(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),log=_useState2[0],setLog=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),startDate=_useState6[0],setStartDate=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),email=_useState8[0],setEmail=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),reviews=_useState10[0],setReviews=_useState10[1];var _useParams=useParams(),userId=_useParams.userId;useEffect(function(){if(userId&&userId!=='undefined'){setLog(true);}axios.get(\"https://pyrite-peanut.glitch.me/api/userId/\".concat(userId)).then(function(res){setName(res.data[0].name);setStartDate(res.data[0].yelping_since);setEmail(res.data[0].email);});axios.get(\"https://pyrite-peanut.glitch.me/api/review/user/\".concat(userId)).then(function(res){setReviews(res.data);console.log(reviews);});},[]);var onDeleteHandler=function onDeleteHandler(review_id,index){axios.delete(\"https://pyrite-peanut.glitch.me/api/reviewD/\".concat(review_id)).then(function(res){setReviews(reviews.filter(function(item,i){return i!==index;}));}).catch(function(err){console.log(err);});};var classes=useStyle();return React.createElement(\"div\",null,React.createElement(TopBar,{userId:userId,logged:log}),React.createElement(\"div\",{className:classes.solid}),React.createElement(\"br\",null),React.createElement(Container,{className:classes.container},React.createElement(\"div\",{className:classes.userTitle},React.createElement(\"div\",{className:classes.partition2},React.createElement(\"img\",{src:imgUrl,className:classes.img,height:\"100%\"})),React.createElement(\"div\",{className:classes.partition1},React.createElement(\"h1\",{className:classes.userInfo},name),React.createElement(\"small\",{className:classes.userInfo},email),React.createElement(\"small\",{className:classes.userInfo},startDate))),React.createElement(\"h2\",null,\"My reviews\"),reviews.map(function(r,index){return React.createElement(\"div\",{className:classes.review},React.createElement(Container,null,React.createElement(\"br\",null),React.createElement(Ratings,{star:r.stars,size:\"small\"}),React.createElement(\"small\",null,\"posted on \".concat(r.date)),React.createElement(\"p\",null,r.text),React.createElement(Button,{color:\"secondary\",onClick:function onClick(){return onDeleteHandler(r.review_id,index);}},\"Delete Review\")));})),React.createElement(\"div\",{className:classes.footer},React.createElement(\"p\",null,\"Copyright \\xA9 2019-03-12 Yummy Inc.\")));};export default UserProfilePage;","map":{"version":3,"sources":["/Users/siriuskl/Documents/Front-End/search/src/Pages/UserProfilePage.js"],"names":["React","useEffect","useState","useRef","useParams","TopBar","makeStyles","Container","Ratings","Button","Axios","borderRight","axios","create","imgUrl","require","useStyle","theme","footer","height","width","textAlign","alignItems","backgroundColor","color","fontSize","display","bottom","solid","container","overflow","flexDirection","maxWidth","userTitle","breakpoints","up","userInfo","paddingLeft","paddingTop","margin","partition1","partition2","img","review","boxShadow","paddingBottom","marginTop","reviewTitle","fontWeight","UserProfilePage","props","log","setLog","name","setName","startDate","setStartDate","email","setEmail","reviews","setReviews","userId","get","then","res","data","yelping_since","console","onDeleteHandler","review_id","index","delete","filter","item","i","catch","err","classes","map","r","stars","date","text"],"mappings":"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","sourcesContent":["import React, { useEffect, useState,useRef } from 'react';\nimport {useParams} from 'react-router';\nimport TopBar from '../Components/MainPage/TopBar';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Ratings from '../Components/DetailPage/Rating';\nimport Button from '@material-ui/core/Button';\nimport Axios from 'axios';\nimport { borderRight } from '@material-ui/system';\n\n\nconst axios = Axios.create()\nconst imgUrl = require('../static/icons/boss.png')\n\nconst useStyle = makeStyles(theme => ({\n    footer: {\n        height: '8vh',\n        width: '100vw',\n        textAlign: 'center',\n        alignItems: 'center',\n        backgroundColor: '#fa877f',\n        color: '#FFFFFF',\n        fontSize: '2vh',\n        display: 'fixed',\n        bottom: '0px'\n    },\n    solid: {\n        display: 'block',\n        width: '100%',\n        height: '64px',\n        backgroundColor: '#FFFFFF'\n    },\n    container: {\n        height: '90vh',\n        overflow: 'scroll',\n        flexDirection: 'column',\n        maxWidth: '700px',\n    },\n    userTitle: {\n        display: 'flex',\n        width: '100%',\n        height: '15vh',\n        [theme.breakpoints.up('sm')]:{\n            height: '18vh'\n        },\n        color: '#5c5757',\n        backgroundColor: '#f4f4f4',\n        flexDirection: 'row',\n        boxShadow: '5px 5px 10px -5px #aaaaaa',\n    },\n    userInfo: {\n        paddingLeft: '5%',\n        paddingTop: '2%',\n        margin: '0px',\n    },\n    partition1: {\n        display: 'flex',\n        flexDirection: 'column',\n        width: '70%',\n    },\n    partition2:{\n        display: 'flex',\n        flexDirection: 'column',\n        width: '30%',\n        borderRight: 'solid 1px #CCCCCC'\n    },\n    img:{\n        margin: \"0px\"\n    },\n    review:{\n        width: '100%',\n        height: 'auto',\n        backgroundColor:'#f4f4f4',\n        boxShadow: '5px 5px 10px -5px #aaaaaa',\n        paddingBottom:'5px',\n        marginTop:'20px'\n    },\n    reviewTitle:{\n        fontWeight:'bold',\n        fontSize:'23px',\n        paddingTop: '10px',\n        margin: '5px'\n    },\n}))\n\nconst UserProfilePage = (props) =>{\n    const [log, setLog] = useState(false)\n    const [name, setName] = useState(null)\n    const [startDate, setStartDate] = useState(null)\n    const [email, setEmail] = useState(null)\n    const [reviews, setReviews] = useState([])\n\n    let { userId } = useParams()\n\n\n    useEffect(() => {\n        if (userId && userId !== 'undefined'){\n            setLog(true)\n        }\n        axios.get(`https://pyrite-peanut.glitch.me/api/userId/${userId}`)\n            .then((res => {\n                setName(res.data[0].name)\n                setStartDate(res.data[0].yelping_since)\n                setEmail(res.data[0].email)\n            }))\n        axios.get(`https://pyrite-peanut.glitch.me/api/review/user/${userId}`)\n            .then((res => {\n                setReviews(res.data)\n                console.log(reviews)\n            }))\n    }, [])\n\n    const onDeleteHandler = (review_id, index) =>{\n        axios.delete(`https://pyrite-peanut.glitch.me/api/reviewD/${review_id}`)\n        .then(res=>{\n            setReviews(reviews.filter((item, i)=> i !== index))\n        })\n        .catch(err=> {console.log(err)})\n    }\n\n    const classes = useStyle()\n    return (\n        <div>\n            <TopBar userId={userId} logged={log}/>\n            <div className={classes.solid}></div>\n            <br />\n            <Container className={classes.container}>\n                <div className={classes.userTitle}>\n                    <div className={classes.partition2}>\n                        <img src={imgUrl} className={classes.img} height=\"100%\"/>\n                    </div>\n                    <div className={classes.partition1}>\n                        <h1 className={classes.userInfo}>{name}</h1>\n                        <small className={classes.userInfo}>{email}</small>\n                        <small className={classes.userInfo}>{startDate}</small>\n                    </div>\n                </div>\n                <h2>My reviews</h2>\n                {reviews.map((r,index) => (\n                    <div className={classes.review}>\n                        <Container>\n                            <br/>\n                            <Ratings star={r.stars} size='small'/>\n                            <small>{`posted on ${r.date}`}</small>\n                            <p>{r.text}</p>\n                            <Button color='secondary' onClick={()=>onDeleteHandler(r.review_id, index)}>Delete Review</Button>\n                        </Container>\n                    </div>\n                ))\n            }\n            </Container>\n            <div className={classes.footer}>\n                <p>Copyright © 2019-03-12 Yummy Inc.</p>\n            </div>\n        </div>\n    )\n}\n\nexport default UserProfilePage;"]},"metadata":{},"sourceType":"module"}