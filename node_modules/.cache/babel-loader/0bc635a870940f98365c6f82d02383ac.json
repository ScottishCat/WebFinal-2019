{"ast":null,"code":"import _defineProperty from\"/Users/siriuskl/Documents/Front-End/search/WebFinal-2019/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{useState,useEffect}from'react';import Container from'@material-ui/core/Container';import Rating from'./Rating';import{makeStyles}from'@material-ui/core/styles';import Link from'@material-ui/core/Link';import Axios from'axios';var axios=Axios.create();var useStyle=makeStyles(function(theme,star){var _itemContainer,_rating,_stars,_reviews;return{container:{height:'90vh',overflow:'scroll',flexDirection:'column',maxWidth:'700px'},itemContainer:(_itemContainer={display:'flex',flexDirection:'row',height:'27vh'},_defineProperty(_itemContainer,theme.breakpoints.down('md'),{height:'18vh'}),_defineProperty(_itemContainer,\"width\",'100%'),_defineProperty(_itemContainer,\"backgroundColor\",'#f4f4f4'),_defineProperty(_itemContainer,\"marginTop\",'1vh'),_defineProperty(_itemContainer,\"marginBottom\",'1vh'),_itemContainer),profile:{display:'flex',width:'35%',height:'100%',background:\"url(\"+require(\"../../static/images/burgers.jpg\")+\") center\",backgroundSize:\"cover\"},info:_defineProperty({display:'flex',flexDirection:'column',width:'65%',height:'100%',fontSize:'15px',fontWeight:'bold'},theme.breakpoints.down('md'),{fontSize:'1.5vh'}),name:{display:'flex',padding:'5%',width:'50%'},title:{display:'flex',flexDirection:'row',width:'100%'},address:{display:'flex',flexDirection:'column',width:'50%',textAlign:'right',paddingRight:'5%'},rating:(_rating={display:'flex',flexDirection:'row',height:'14px',width:'100%'},_defineProperty(_rating,theme.breakpoints.up('md'),{height:'20px'}),_defineProperty(_rating,\"textAlign\",'right'),_rating),stars:(_stars={display:'flex',width:'85px',height:'14px'},_defineProperty(_stars,theme.breakpoints.up('md'),{width:'120px',height:'20px'}),_defineProperty(_stars,\"background\",\"url(\"+require(\"../../static/rating/small_3.png\")+\")\"),_defineProperty(_stars,\"backgroundSize\",'cover'),_defineProperty(_stars,\"marginLeft\",'5%'),_defineProperty(_stars,\"marginRight\",'3%'),_stars),reviews:(_reviews={fontSize:'12px'},_defineProperty(_reviews,theme.breakpoints.down('md'),{fontSize:'1vh'}),_defineProperty(_reviews,\"paddingTop\",'2px'),_reviews)};});var ResultList=function ResultList(props){var classes=useStyle(props);var onLinkHandler=function onLinkHandler(bid){axios.get(\"https://midi-fiction.glitch.me/api/business/id/\".concat(bid)).then(function(res){localStorage.setItem(\"business\",JSON.stringify(res.data[0]));localStorage.setItem(\"lat\",res.data[0].latitude);localStorage.setItem(\"lng\",res.data[0].longitude);// console.log(JSON.parse(localStorage.getItem(\"business\")))\n// console.log(typeof localStorage.getItem(\"lat\"))\n// console.log(localStorage.getItem(\"lat\"))\n// console.log(localStorage.getItem(\"lng\"))\nwindow.location.href=\"/detail/\".concat(bid,\"/\").concat(props.userId);}).catch(function(err){return console.log(err);});};return React.createElement(Container,{className:classes.container},JSON.parse(localStorage.getItem(\"searchList\")).map(function(value){return React.createElement(\"div\",{id:value.business_id,className:classes.itemContainer,onClick:function onClick(){return onLinkHandler(value.business_id);}},React.createElement(\"div\",{className:classes.profile}),React.createElement(\"div\",{className:classes.info},React.createElement(\"div\",{className:classes.title},React.createElement(\"h3\",{className:classes.name},value.name),React.createElement(\"div\",{className:classes.address},React.createElement(\"p\",null,value.city,React.createElement(\"br\",null),value.postal_code))),React.createElement(\"div\",{className:classes.rating},React.createElement(Rating,{star:value.stars}),React.createElement(\"span\",{className:classes.reviews},\"\".concat(value.review_count,\"reviews\")))));}));};export default ResultList;","map":{"version":3,"sources":["/Users/siriuskl/Documents/Front-End/search/WebFinal-2019/src/Components/SearchPage/ResultList.js"],"names":["React","useState","useEffect","Container","Rating","makeStyles","Link","Axios","axios","create","useStyle","theme","star","container","height","overflow","flexDirection","maxWidth","itemContainer","display","breakpoints","down","profile","width","background","require","backgroundSize","info","fontSize","fontWeight","name","padding","title","address","textAlign","paddingRight","rating","up","stars","reviews","ResultList","props","classes","onLinkHandler","bid","get","then","res","localStorage","setItem","JSON","stringify","data","latitude","longitude","window","location","href","userId","catch","err","console","log","parse","getItem","map","value","business_id","city","postal_code","review_count"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from 'react';\nimport Container from '@material-ui/core/Container';\nimport Rating from './Rating';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Link from '@material-ui/core/Link';\nimport Axios from 'axios';\nconst axios = Axios.create()\n\nconst useStyle = makeStyles((theme,star) => ({\n    container:{\n        height: '90vh',\n        overflow: 'scroll',\n        flexDirection:'column',\n        maxWidth: '700px',\n    },\n    itemContainer:{\n        display: 'flex',\n        flexDirection:'row',\n        height: '27vh',\n        [theme.breakpoints.down('md')]:{\n            height:'18vh'\n        },\n        width:'100%',\n        backgroundColor:'#f4f4f4',\n        marginTop: '1vh',\n        marginBottom:'1vh'\n    },\n    profile:{\n        display:'flex',\n        width: '35%',\n        height: '100%',\n        background: \"url(\" + require(`../../static/images/burgers.jpg`) + \") center\",\n        backgroundSize: \"cover\" \n    },\n    info:{\n        display:'flex',\n        flexDirection:'column',\n        width:'65%',\n        height:'100%',\n        fontSize: '15px',\n        fontWeight: 'bold',\n        [theme.breakpoints.down('md')]:{\n            fontSize: '1.5vh',\n        }\n    },\n    name:{\n        display: 'flex',\n        padding: '5%',\n        width: '50%'\n    },\n    title:{\n        display: 'flex',\n        flexDirection: 'row',\n        width: '100%',\n    },\n    address:{\n        display: 'flex',\n        flexDirection: 'column',\n        width: '50%',\n        textAlign: 'right',\n        paddingRight:'5%'\n    },\n    rating:{\n        display: 'flex',\n        flexDirection: 'row',\n        height: '14px',\n        width: '100%',\n        [theme.breakpoints.up('md')]:{\n            height: '20px',\n        },\n        textAlign: 'right'\n    },\n    stars:{\n        display: 'flex',\n        width: '85px',\n        height: '14px',\n        [theme.breakpoints.up('md')]:{\n            width: '120px',\n            height: '20px',\n        },\n        background: \"url(\" + require(`../../static/rating/small_3.png`) + \")\",\n        backgroundSize: 'cover',\n        marginLeft: '5%',\n        marginRight: '3%'\n    },\n    reviews:{\n        fontSize: '12px',\n        [theme.breakpoints.down('md')]:{\n            fontSize: '1vh',\n        },\n        paddingTop:'2px'\n    }\n}))\n\nconst ResultList = (props) => {\n    const classes = useStyle(props);\n\n    const onLinkHandler = (bid) =>{\n        axios.get(`https://midi-fiction.glitch.me/api/business/id/${bid}`)\n        .then(res=>{\n            localStorage.setItem(\"business\",JSON.stringify(res.data[0]))\n            localStorage.setItem(\"lat\",res.data[0].latitude)\n            localStorage.setItem(\"lng\",res.data[0].longitude)\n            // console.log(JSON.parse(localStorage.getItem(\"business\")))\n            // console.log(typeof localStorage.getItem(\"lat\"))\n            // console.log(localStorage.getItem(\"lat\"))\n            // console.log(localStorage.getItem(\"lng\"))\n            window.location.href=`/detail/${bid}/${props.userId}`\n            })\n        .catch(err=>console.log(err))\n    }\n\n    return (\n        <Container className={classes.container}>\n            {JSON.parse(localStorage.getItem(\"searchList\")).map(value => (\n                <div id={value.business_id} className={classes.itemContainer} onClick={()=>onLinkHandler(value.business_id)}>\n                    <div className={classes.profile}></div>\n                    <div className={classes.info}>\n                        <div className={classes.title}>\n                        <h3 className={classes.name}>{value.name}</h3>\n                            <div className={classes.address}>\n                                <p>\n                                    {value.city}\n                                    <br/>\n                                    {value.postal_code}\n                                </p>\n                            </div>\n                        </div>\n                        <div className={classes.rating}>\n                            <Rating star={value.stars}/>\n                            <span className={classes.reviews}>{`${value.review_count}reviews`}</span>\n                        </div>\n                    </div>\n                </div>))\n            }\n        </Container>\n    )\n}\n\nexport default ResultList;"]},"metadata":{},"sourceType":"module"}