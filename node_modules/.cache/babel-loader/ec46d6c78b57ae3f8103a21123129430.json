{"ast":null,"code":"import _slicedToArray from \"/Users/siriuskl/Documents/Front-End/search/WebFinal-2019/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/siriuskl/Documents/Front-End/search/WebFinal-2019/src/Components/MainPage/TopBar.js\";\nimport React, { useState, useRef } from 'react';\nimport { useParams } from 'react-router';\nimport { withRouter, Link } from 'react-router-dom';\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport InputBase from '@material-ui/core/InputBase';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport SearchIcon from '@material-ui/icons/Search';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport Axios from 'axios';\nconst axios = Axios.create();\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1\n  },\n  AppBar: {\n    backgroundColor: '#fa877f'\n  },\n  title: {\n    flexGrow: 1,\n    display: 'none',\n    fontFamily: 'Pacifico, cursive',\n    fontSize: '30px',\n    textDecoration: 'none',\n    color: '#FFFFFF',\n    [theme.breakpoints.up('sm')]: {\n      display: 'block'\n    }\n  },\n  search: {\n    position: 'relative',\n    borderRadius: '2px',\n    backgroundColor: fade('#FFFFFF', 0.3),\n    '&:hover': {\n      backgroundColor: fade('#FFFFFF', 0.3)\n    },\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: theme.spacing(1),\n      width: 'auto'\n    }\n  },\n  searchIcon: {\n    width: theme.spacing(7),\n    height: '100%',\n    position: 'absolute',\n    pointerEvents: 'none',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  inputRoot: {\n    color: 'inherit'\n  },\n  inputInput: {\n    color: '#FFFFFF',\n    padding: theme.spacing(1, 1, 1, 7),\n    transition: theme.transitions.create('width'),\n    width: '100%',\n    [theme.breakpoints.up('sm')]: {\n      width: 250,\n      '&:focus': {\n        width: 300\n      }\n    }\n  },\n  ButtonSet: {\n    display: 'flex'\n  },\n  Button: {\n    display: 'none',\n    [theme.breakpoints.up('sm')]: {\n      marginLeft: '1%',\n      display: 'flex',\n      flexWrap: 'nowrap',\n      fontSize: '18px'\n    }\n  },\n  MenuButton: {\n    color: '#FFFFFF',\n    display: 'block',\n    [theme.breakpoints.up('sm')]: {\n      display: 'none'\n    }\n  }\n}));\n\nconst TopBar = props => {\n  const classes = useStyles();\n  const inputRef = useRef(null); // Handle Search Event\n\n  const SearchHandler = e => {\n    if (e.keyCode == 13) {\n      axios.get(\"https://midi-fiction.glitch.me/api/byBname/\".concat(inputRef.current.value)).then(res => {\n        // console.log(res.data);\n        localStorage.setItem(\"searchList\", JSON.stringify(res.data));\n        console.log(JSON.parse(localStorage.getItem(\"searchList\")));\n        window.location.href = \"#/search/\".concat(props.userId);\n      });\n    }\n  };\n\n  const _React$useState = React.useState(null),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        anchorEl = _React$useState2[0],\n        setAnchorEl = _React$useState2[1];\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const goLogin = e => {\n    e.preventDefault();\n    window.location.href = \"#/login\";\n  };\n\n  const goSignup = e => {\n    e.preventDefault();\n    window.location.href = \"#/signup\";\n  };\n\n  const goProfile = e => {\n    e.preventDefault();\n    window.location.href = \"#/profile/\".concat(props.userId);\n  };\n\n  const goHome = e => {\n    e.preventDefault();\n    window.location.href = \"#/main/\".concat(props.userId);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return React.createElement(\"div\", {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, React.createElement(AppBar, {\n    position: \"fixed\",\n    className: classes.AppBar,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, React.createElement(Toolbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, React.createElement(Link, {\n    className: classes.title,\n    to: \"#/main/\".concat(props.userId),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, \"Yummy\"), React.createElement(\"div\", {\n    className: classes.search,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.searchIcon,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, React.createElement(SearchIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  })), React.createElement(InputBase, {\n    onKeyDown: SearchHandler,\n    placeholder: \"Search for your interests...\",\n    inputRef: inputRef,\n    classes: {\n      root: classes.inputRoot,\n      input: classes.inputInput\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  })), props.logged ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, React.createElement(IconButton, {\n    onClick: handleClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165\n    },\n    __self: this\n  }, React.createElement(AccountCircle, {\n    fontSize: \"large\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  })), React.createElement(Menu, {\n    anchorEl: anchorEl,\n    keepMounted: true,\n    open: Boolean(anchorEl),\n    onClose: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }, React.createElement(MenuItem, {\n    onClick: goHome,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  }, \"Home\"), React.createElement(MenuItem, {\n    onClick: goProfile,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, \"Profile\"), React.createElement(MenuItem, {\n    onClick: goLogin,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, \"Log out\"))) : React.createElement(\"div\", {\n    className: classes.ButtonSet,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }, React.createElement(IconButton, {\n    className: classes.MenuButton,\n    onClick: handleClick,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, React.createElement(MenuIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  })), React.createElement(Menu, {\n    anchorEl: anchorEl,\n    keepMounted: true,\n    open: Boolean(anchorEl),\n    onClose: handleClose,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  }, React.createElement(MenuItem, {\n    onClick: goSignup,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }, \"Sign Up\"), React.createElement(MenuItem, {\n    onClick: goLogin,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189\n    },\n    __self: this\n  }, \"Log in\")), React.createElement(Button, {\n    color: \"inherit\",\n    className: classes.Button,\n    onClick: () => {\n      props.history.push('/login');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, \"Login\"), React.createElement(Button, {\n    color: \"inherit\",\n    className: classes.Button,\n    onClick: () => {\n      props.history.push('/signup');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  }, \"Signup\")))));\n};\n\nexport default withRouter(TopBar);","map":{"version":3,"sources":["/Users/siriuskl/Documents/Front-End/search/WebFinal-2019/src/Components/MainPage/TopBar.js"],"names":["React","useState","useRef","useParams","withRouter","Link","fade","makeStyles","AppBar","Toolbar","Button","IconButton","InputBase","MenuItem","Menu","MenuIcon","SearchIcon","AccountCircle","Axios","axios","create","useStyles","theme","root","flexGrow","backgroundColor","title","display","fontFamily","fontSize","textDecoration","color","breakpoints","up","search","position","borderRadius","width","marginLeft","spacing","searchIcon","height","pointerEvents","alignItems","justifyContent","inputRoot","inputInput","padding","transition","transitions","ButtonSet","flexWrap","MenuButton","TopBar","props","classes","inputRef","SearchHandler","e","keyCode","get","current","value","then","res","localStorage","setItem","JSON","stringify","data","console","log","parse","getItem","window","location","href","userId","anchorEl","setAnchorEl","handleClick","event","currentTarget","goLogin","preventDefault","goSignup","goProfile","goHome","handleClose","input","logged","Boolean","history","push"],"mappings":"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","sourcesContent":["import React, {useState, useRef} from 'react';\nimport {useParams} from 'react-router';\nimport { withRouter, Link } from 'react-router-dom';\nimport { fade, makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport InputBase from '@material-ui/core/InputBase';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport SearchIcon from '@material-ui/icons/Search';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport Axios from 'axios';\n\nconst axios = Axios.create();\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flexGrow: 1,\n    },\n    AppBar: {\n        backgroundColor: '#fa877f',\n    },\n    title: {\n        flexGrow: 1,\n        display: 'none',\n        fontFamily: 'Pacifico, cursive',\n        fontSize: '30px',\n        textDecoration: 'none',\n        color: '#FFFFFF',\n        [theme.breakpoints.up('sm')]: {\n            display: 'block',\n        },\n    },\n    search: {\n        position: 'relative',\n        borderRadius: '2px',\n        backgroundColor: fade('#FFFFFF', 0.3),\n        '&:hover': {\n            backgroundColor: fade('#FFFFFF', 0.3),\n        },\n        width: '100%',\n        [theme.breakpoints.up('sm')]: {\n            marginLeft: theme.spacing(1),\n            width: 'auto',\n        },\n    },\n    searchIcon: {\n        width: theme.spacing(7),\n        height: '100%',\n        position: 'absolute',\n        pointerEvents: 'none',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    inputRoot: {\n        color: 'inherit',\n    },\n    inputInput: {\n        color: '#FFFFFF',\n        padding: theme.spacing(1, 1, 1, 7),\n\n        transition: theme.transitions.create('width'),\n        width: '100%',\n        [theme.breakpoints.up('sm')]: {\n            width: 250,\n            '&:focus': {\n                width: 300,\n            },\n        },\n    },\n    ButtonSet: {\n        display: 'flex'\n    },\n    Button: {\n        display: 'none',\n        [theme.breakpoints.up('sm')]: {\n            marginLeft: '1%',\n            display: 'flex',\n            flexWrap: 'nowrap',\n            fontSize: '18px'\n        }\n    },\n    MenuButton: {\n        color: '#FFFFFF',\n        display: 'block',\n        [theme.breakpoints.up('sm')]: {\n            display: 'none',\n        }\n    }\n}));\n\nconst TopBar = (props) => {\n    const classes = useStyles();\n    const inputRef = useRef(null);\n    // Handle Search Event\n    const SearchHandler = (e) => {\n        if (e.keyCode == 13) {\n            axios.get(`https://midi-fiction.glitch.me/api/byBname/${inputRef.current.value}`)\n            .then(res=>{\n                // console.log(res.data);\n                localStorage.setItem(\"searchList\",JSON.stringify(res.data));\n                console.log(JSON.parse(localStorage.getItem(\"searchList\")))\n                window.location.href=`#/search/${props.userId}`\n            })\n        }\n    }\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    const handleClick = event => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const goLogin = (e) => {\n        e.preventDefault();\n        window.location.href=\"#/login\";\n    }\n\n    const goSignup = (e) => {\n        e.preventDefault();\n        window.location.href=\"#/signup\";\n    }\n\n    const goProfile = (e) => {\n        e.preventDefault();\n        window.location.href=`#/profile/${props.userId}`\n    }\n\n    const goHome = (e) => {\n        e.preventDefault();\n        window.location.href=`#/main/${props.userId}`\n    }\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    return (\n        <div className={classes.root}>\n            <AppBar position=\"fixed\" className={classes.AppBar}>\n                <Toolbar>\n                    <Link className={classes.title} to={`#/main/${props.userId}`}>\n                        Yummy\n                    </Link>\n                    <div className={classes.search}>\n                        <div className={classes.searchIcon}>\n                            <SearchIcon />\n                        </div>\n                        <InputBase\n                            onKeyDown={SearchHandler}\n                            placeholder=\"Search for your interests...\"\n                            inputRef={inputRef}\n                            classes={{\n                                root: classes.inputRoot,\n                                input: classes.inputInput,\n                            }}\n                        />\n                    </div>\n                    {props.logged ?\n                        <div>\n                            <IconButton onClick={handleClick}>\n                                <AccountCircle fontSize='large' />\n                            </IconButton>\n                            <Menu\n                                anchorEl={anchorEl}\n                                keepMounted\n                                open={Boolean(anchorEl)}\n                                onClose={handleClose}>\n                                <MenuItem onClick={goHome}>Home</MenuItem>\n                                <MenuItem onClick={goProfile}>Profile</MenuItem>\n                                <MenuItem onClick={goLogin}>Log out</MenuItem>\n                            </Menu>\n                        </div>\n                        :\n                        <div className={classes.ButtonSet}>\n                            <IconButton className={classes.MenuButton} onClick={handleClick}>\n                                <MenuIcon />\n                            </IconButton>\n                            <Menu\n                                anchorEl={anchorEl}\n                                keepMounted\n                                open={Boolean(anchorEl)}\n                                onClose={handleClose}>\n                                <MenuItem onClick={goSignup}>Sign Up</MenuItem>\n                                <MenuItem onClick={goLogin}>Log in</MenuItem>\n                            </Menu>\n                            <Button\n                                color=\"inherit\"\n                                className={classes.Button}\n                                onClick={() => { props.history.push('/login') }}>\n                                Login\n                            </Button>\n                            <Button color=\"inherit\"\n                                className={classes.Button}\n                                onClick={() => { props.history.push('/signup') }}>\n                                Signup\n                            </Button>\n                        </div>\n                    }\n                </Toolbar>\n            </AppBar>\n        </div>\n    );\n}\nexport default withRouter(TopBar);"]},"metadata":{},"sourceType":"module"}